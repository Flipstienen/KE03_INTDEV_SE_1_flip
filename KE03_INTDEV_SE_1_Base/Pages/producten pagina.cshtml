@page "{id:int}"
@model DetailsModel
@{
	ViewData["Title"] = Model.Product.Name.ToString();
}
<h1>@ViewData["Title"]</h1>
<img src="@Model.imgSrc" alt="afbeelding van @ViewData["Title"]" />

<form method="post" asp-page-handler="AddToCart">
    @Html.AntiForgeryToken()
    <input type="hidden" name="productId" value="@Model.Product.Id" />
    
    <label for="quantity">Aantal:</label>
    <input type="number" id="quantity" name="quantity" min="1" value="1" required />

    <button type="submit" class="btn btn-primary">Voeg toe aan winkelmandje</button>
</form> 

@if (Model.showFeedback)
{
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var feedback = document.createElement("div");
            feedback.innerHTML = "Product toegevoegd aan winkelmandje!";
            feedback.style.position = "fixed";
            feedback.style.top = "10px";
            feedback.style.right = "10px";
            feedback.style.backgroundColor = "#28a745";
            feedback.style.color = "white";
            feedback.style.padding = "10px";
            feedback.style.borderRadius = "5px";
            feedback.style.zIndex = "1000";
            document.body.appendChild(feedback);

            setTimeout(function () {
                if (document.body.contains(feedback)) {
                    document.body.removeChild(feedback);
                }
            }, 1500);
        });
    </script>
}